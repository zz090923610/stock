# stock
## Introduction:

stock sub-project is major part of [anomaly](https://github.com/zz090923610/anomaly) project.

## Features:
* Fetch day level / tick level trade history data of all symbols listed on SSE, SZSE.
* Do realtime market monitoring, alerting, automated trading based on customized rules.
* Make data preprocessing much easier by using scripts written in a customizable datasheet manuplate language.
* Embed your own models into this framework, by exporting it to control commands set.
* Automate all your workloads by writing control sequence script.

## Why do we need this:

Individual equity traders lack information and power to process information compared with institutional traders. Technical analysis is an easy but important way for them to follow the trend, probably created by those institutions. I saw lots of individual do this using Excel. It's okay if you only care about several stocks and apply same Excel operations on their data everyday, but what if you want to do some analysis for all those listed stocks? Can you filter out some of them given some kind of rules? Say if you have some interesting models, do you want your computer apply them for you everyday instead of do everything on your own? That's why Anomaly is created. This tool set try it best to not convey functions you can easily acquire from other shining softwares, but something to save you sometime.


## Requirments:

* Tested on Ubuntu 17.10 and python 3.6.2. All other apt, pip dependencies can be easily installed follow below instructions.
* More than 4GB free space should be enough if your models don't generate much data.

## Getting started:

* Download source code:
```shell
cd ~
git clone git@github.com:zz090923610/stock.git
cd stock
```
* Generate third-party dependency install commands:
```shell
python3 -m overview -d
```
something like below should be printed out:
```shell
sudo apt-get install -y mosquitto mosquitto-clients python3-pip cython3 zip
sudo -H pip3 install schedule pandas requests xlrd pytz paho-mqtt beautifulsoup4 lxml pillow
sudo -H pip3 install tushare
```
then install them manually.
* Configure data root.

Please edit second line of ./configs/conf.py, pass some valid FULL path of the directory you want to store all data generated by Anomaly.
```python
user_defined_data_root = "some/full/path/of/directory"
```
Or you can skip this step, then Anomayl will use default data root path, which is ~/data/stock_data for Linux and $user/Documents/stock_data for windows.

Then you are ready to roll. Please refer to below writeup for start your workload quickly:
[fetching raw data]()
[do candle stick shape analysis]()
[automate everything]()
[]()
## Project structure:
```
stock
├── analysis
│   ├── models
│   ├── script_executor
│   │   ├── merge_data.py
│   │   ├── script_exec_hdl.py
│   │   ├── slice.py
│   │   └── TranslateHdl.py
│   └── tick
│       └── naive_summary.py
├── cmd_core
│   ├── cmd_parser.py
│   ├── ctrl_script_hdl.py
│   └── interactive_cmd_hdl.py
├── configs
│   └── conf.py
├── ctrls
│   └── your_own_workload.ctrl
├── misc
│   └── report_hdl.py
├── mkt_monitor
│   ├── alarm.py
│   ├── daemon.py
│   ├── monitorAPI.py
│   ├── rules.py
│   └── stock_feature.py
├── overview.py
├── scripts
│   └── your_own_preprocessing_script.txt
└── tools
    ├── communication
    │   └── mqtt.py
    ├── data
    │   ├── file_hdl.py
    │   ├── mkt_chn
    │   │   ├── fetch_day_level_quotes_china.py
    │   │   ├── fetch_symbol_list_china_a.py
    │   │   ├── fetch_tick_quotes_china.py
    │   │   └── symbol_list_china_hdl.py
    │   └── path_hdl.py
    ├── date_util
    │   └── market_calendar_cn.py
    └── io.py
```
## Extend system functionality by adding your own models:

## Setup automated workload:

## API Documents:
