<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stock: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">stock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# stock</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;## Introduction:</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;stock sub-project is major part of [anomaly](https://github.com/zz090923610/anomaly) project.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;## Features:</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;* Fetch day level / tick level trade history data of all symbols listed on SSE, SZSE.</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;* Do realtime market monitoring, alerting, automated trading based on customized rules.</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;* Make data preprocessing much easier by using scripts written in a customizable datasheet manuplate language.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;* Embed your own models into this framework, by exporting it to control commands set.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;* Automate all your workloads by writing control sequence script.</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;## Why do we need this:</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;Individual equity traders lack information and power to process information compared with institutional traders. Technical analysis is an easy but important way for them to follow the trend, probably created by those institutions. I saw lots of individual do this using Excel. It&#39;s okay if you only care about several stocks and apply same Excel operations on their data everyday, but what if you want to do some analysis for all those listed stocks? Can you filter out some of them given some kind of rules? Say if you have some interesting models, do you want your computer apply them for you everyday instead of do everything on your own? That&#39;s why Anomaly is created. This tool set try it best to not convey functions you can easily acquire from other shining softwares, but something to save you sometime.</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;## Requirments:</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;* Tested on Ubuntu 17.10 and python 3.6.2. All other apt, pip dependencies can be easily installed follow below instructions.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;* More than 4GB free space should be enough if your models don&#39;t generate much data.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;## Getting started:</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;* Download source code:</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;```shell</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;cd ~</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;git clone git@github.com:zz090923610/stock.git</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;cd stock</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;```</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;* Generate third-party dependency install commands:</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;```shell</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;python3 -m overview -d</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;```</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;something like below should be printed out:</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;```shell</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;sudo apt-get install -y mosquitto mosquitto-clients python3-pip cython3 zip</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;sudo -H pip3 install schedule pandas requests xlrd pytz paho-mqtt beautifulsoup4 lxml pillow</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;sudo -H pip3 install tushare</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;```</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;then install them manually.</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;* Configure data root.</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;Please edit second line of ./configs/conf.py, pass some valid FULL path of the directory you want to store all data generated by Anomaly.</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;```python</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;user_defined_data_root = &quot;some/full/path/of/directory&quot;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;```</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;Or you can skip this step, then Anomayl will use default data root path, which is ~/data/stock_data for Linux and $user/Documents/stock_data for windows.</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;The final step is build command cache:</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;```shell</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;python3 -m overview -c</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;```</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;Something like this should be printed:</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;```shell</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;Updating command cache</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;# CMDEXPORT ( MERGE {path_from} {path_to} {index} ) cmd_merge</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;# CMDEXPORT ( SLICECOMBINE {input_path} {out_path} {date} {rename} ) slice_combine</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;# CMDEXPORT ( RENAMECOL {file_path} ) rename_column_title</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;# CMDEXPORT ( SCRIPT {script_path}) exec_script</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;# CMDEXPORT ( NAIVESCORE TURNOVER {data} {date}) naive_score_turnover</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;# CMDEXPORT ( NAIVESCORE AMOUNT {data} {date}) naive_score_amount</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;# CMDEXPORT ( CONDFREQ TRAIN {model_name} {use_dir} {params[4:]} ) cond_freq_train</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;# CMDEXPORT ( NAIVETICKSUMMARY {date} ) naive_summary_tick</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;# CMDEXPORT ( FETCH TICK {date_or_dates} ) update_tick_quotes</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;# CMDEXPORT ( FETCH OHCL {start_date} {end_date} ) update_day_level_quotes</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;# CMDEXPORT ( FETCH SYMBOL ) update_symbol_list</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;# CMDEXPORT ( ZIP {output_path} {input_path_list_str[2:]} ) zip_files</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;# CMDEXPORT ( SEND FILE WECHAT {path} {to} ) send_file_wechat</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;Found 13 commands</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;```</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;These are all available commands currently exported from all modules. We will see how to use them and how to customize them below. Just remember please build cache every time after you customize them.</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;Then you are ready to roll. Please refer to below writeups to start your workload quickly:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;* [How to fetch raw OHCL/Tick data]()</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;* [How to do candle stick shape analysis]()</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;* [How to automate everything]()</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;* [Difference between control batch file and pre-proc script file]()</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;* [how to use your own models]()</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;## Project structure:</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;```</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;stock</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;├── analysis: all analysis related codes should go here.</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;│   ├── models</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;│   ├── script_executor</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;│   └── tick</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;├── cmd_core: codes for exec control batch file and control commands.</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;├── configs: settings go here.</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;├── ctrls: your own control batch files should be stored here.</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;├── misc: useful things which cannot find a better place to place.</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;├── mkt_monitor: codes about realtime market monitoring, rules, actions.</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;├── overview.py: the only python file doesn&#39;t depend on third-party codes even other codes within this project. Focusing </div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;|                on resolving third-party software dependency, finding TODOs, building command cache by tracing marked</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;|                comment marcos.</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;├── scripts: your_own_preprocessing_script.txt should goes here.</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;└── tools: important codes don&#39;t related to analysis and market monitoring.</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    ├── communication</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    ├── data: data related codes, data fetching, data IO, etc..</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    │   └── mkt_chn: operations for different market should be store in separate folders.</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    └── date_util: makret calendars for different markets should go here.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;```</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;## API Documents:</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
